sequenceDiagram
    actor Sales
    participant OrdersPage as OrdersPage (app/(dashboard)/orders/page.tsx)
    participant OrdersApi as apiFetch('/orders', ...)
    participant Backend as Inventory API
    actor Technician
    participant RequestsPage as RequestsPage (app/(dashboard)/requests/page.tsx)
    participant ConfirmedHook as useAuthedSWR('/orders/confirmed')

    Sales->>OrdersPage: ใช้งาน handleCreateOrder เพื่อบันทึก Order ใหม่
    OrdersPage->>OrdersApi: apiFetch('/orders', { method: 'POST', body, token })
    OrdersApi->>Backend: POST /orders payload
    Backend-->>OrdersApi: OrderId ใหม่
    OrdersApi-->>OrdersPage: สร้าง Order สำเร็จ
    OrdersPage->>OrdersPage: mutateConfirmed() / mutateAll()
    OrdersPage->>ConfirmedHook: trigger revalidate('/orders/confirmed')
    ConfirmedHook->>OrdersApi: apiFetch('/orders/confirmed', { token })
    OrdersApi->>Backend: GET /orders/confirmed
    Backend-->>ConfirmedHook: ส่งข้อมูล Order ล่าสุดกลับมา

    Technician->>RequestsPage: เปิดหน้าคำขอเพื่อสร้าง Request ใหม่
    RequestsPage->>ConfirmedHook: useAuthedSWR('/orders/confirmed', token)
    ConfirmedHook-->>RequestsPage: รับ Order ที่ Sales เพิ่งสร้าง
    RequestsPage-->>Technician: แสดง Order ใหม่ให้เลือกใน SearchableSelect
