sequenceDiagram
    actor Sales as Sales/Technician
    participant CustomersPage as CustomersPage (app/(dashboard)/customers/page.tsx)
    participant DataHook as useAuthedSWR('/customers')
    participant ApiFetch as apiFetch('/customers', ...)
    participant Backend as Inventory API

    Sales->>CustomersPage: เปิดเมนู Customers
    CustomersPage->>DataHook: useAuthedSWR('/customers', token)
    DataHook->>ApiFetch: apiFetch('/customers', { token })
    ApiFetch->>Backend: GET /customers
    Backend-->>CustomersPage: รายชื่อลูกค้า

    Sales->>CustomersPage: เปิดฟอร์มเพิ่มลูกค้าและกดบันทึก
    CustomersPage->>CustomersPage: handleCreate(event)
    CustomersPage->>ApiFetch: apiFetch('/customers', { method: 'POST', body, token })
    ApiFetch->>Backend: POST /customers payload
    Backend-->>ApiFetch: สร้างลูกค้าสำเร็จ
    ApiFetch-->>CustomersPage: Customer ที่สร้างแล้ว
    CustomersPage->>CustomersPage: form.reset() + setSuccessMessage()
    CustomersPage->>DataHook: mutate()
    DataHook->>ApiFetch: apiFetch('/customers', { token })
    ApiFetch->>Backend: GET /customers (refresh)
    Backend-->>CustomersPage: รายการล่าสุด
    CustomersPage-->>Sales: แสดงลูกค้าคนใหม่
