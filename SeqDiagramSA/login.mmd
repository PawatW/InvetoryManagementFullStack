sequenceDiagram
    actor User
    participant LoginPage as LoginPage (app/page.tsx)
    participant AuthContext as useAuth().login
    participant Http as fetch(`${API_BASE_URL}/login`)
    participant Jwt as decodeJwtPayload
    participant Storage as localStorage
    participant Router as useRouter()

    User->>LoginPage: กรอกอีเมลและรหัสผ่าน
    LoginPage->>LoginPage: handleSubmit(event)
    LoginPage->>AuthContext: login(email, password)
    AuthContext->>Http: POST /login { email, password }
    Http-->>AuthContext: { token }
    AuthContext->>Jwt: decodeJwtPayload(token)
    Jwt-->>AuthContext: payload (sub, role)
    AuthContext->>Storage: localStorage.setItem(STORAGE_KEY, token)
    AuthContext->>AuthContext: setToken / setStaffId / setRole
    AuthContext->>Router: router.push('/dashboard')
    Router-->>User: Redirect ไปหน้าหลัก
